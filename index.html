<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Find My Location</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 30px; }
    #locationResult { margin-top: 20px; padding: 10px; border: 1px solid #ccc; width: 400px; }
  </style>
</head>
<body>
  <h2>Find My Location</h2>
  <button onclick="getLocation()">Find My Location</button>

  <div id="locationResult">Your location will appear here...</div>

  <script>
    function getLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition, showError);
      } else {
        document.getElementById("locationResult").innerText =
          "Geolocation is not supported by this browser.";
      }
    }

    function showPosition(position) {
      const lat = position.coords.latitude;
      const lon = position.coords.longitude;

      fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${lat}&longitude=${lon}&localityLanguage=en`)
        .then(response => response.json())
        .then(data => {
          const locationText = `
            üìç Locality: ${data.locality || "N/A"} <br>
            üèôÔ∏è City: ${data.city || "N/A"} <br>
            üåç Country: ${data.countryName || "N/A"} <br>
            üèõÔ∏è State/Region: ${data.principalSubdivision || "N/A"} <br>
            ‚ûï Plus Code: ${data.plusCode || "N/A"}
          `;
          document.getElementById("locationResult").innerHTML = locationText;
        })
        .catch(err => {
          console.error(err);
          document.getElementById("locationResult").innerText = "Error fetching location details.";
        });
    }

    function showError(error) {
      let message = "";
      switch (error.code) {
        case error.PERMISSION_DENIED:
          message = "User denied the request for Geolocation.";
          break;
        case error.POSITION_UNAVAILABLE:
          message = "Location information is unavailable.";
          break;
        case error.TIMEOUT:
          message = "The request to get user location timed out.";
          break;
        default:
          message = "An unknown error occurred.";
          break;
      }
      document.getElementById("locationResult").innerText = message;
    }
  </script>
</body>
</html>
